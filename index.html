<!DOCTYPE html>
<html lang="en"> <!-- Default lang, will be updated by JS -->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="" data-translate="meta.description">
    <meta name="keywords" content="" data-translate="meta.keywords">
    <title data-translate="title">AI Bot for Website: Increase Conversion and Automate Communication</title> <!-- Title will be updated by JS -->
    <!-- Canonical URL - Укажите здесь основной URL страницы, когда она будет размещена -->
    <link rel="canonical" href="https://bunker255ai.onrender.com" />
    <!-- Hreflang tags -->
    <link rel="alternate" hreflang="ru" href="https://bunker255ai.onrender.com?lang=ru" />
    <link rel="alternate" hreflang="en" href="https://bunker255ai.onrender.com?lang=en" />
    <link rel="alternate" hreflang="he" href="https://bunker255ai.onrender.com?lang=he" />
    <link rel="alternate" hreflang="x-default" href="https://bunker255ai.onrender.coml?lang=en" /> <!-- Укажите язык по умолчанию -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom styles will go here if needed */
        [dir="rtl"] nav a { /* Adjust spacing for RTL */
            margin-left: 1.5rem;
            margin-right: 0;
        }
        [dir="rtl"] .space-x-6 > :not([hidden]) ~ :not([hidden]) {
            --tw-space-x-reverse: 1; /* Tailwind class adjustment for RTL */
        }
        [dir="rtl"] .text-left { text-align: right; } /* Adjust text alignment for RTL */
        [dir="rtl"] .group-open\:rotate-180 { transform: rotate(-180deg); } /* Adjust FAQ icon rotation */
        [dir="rtl"] summary span:last-child { margin-right: auto; margin-left: 0; } /* Adjust FAQ icon position */

        /* AI Chat Bot Styles */
        :root {
          --chat-primary-color: #3498db; /* Основной цвет чата (можно изменить) */
          --chat-secondary-color: #e67e22;
          --chat-accent-color: #2ecc71;
          --chat-dark-color: #2c3e50;
          --chat-light-color: #ecf0f1;
        }

        .floating-button {
          position: fixed;
          bottom: 20px;
          right: 20px;
          z-index: 1000; /* Убедитесь, что кнопка поверх других элементов */
        }
        [dir="rtl"] .floating-button {
            right: auto;
            left: 20px;
        }

        .floating-button .btn {
          width: 50px;
          height: 50px;
          box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
          transition: transform 0.3s ease;
          /* Цвет кнопки можно изменить, используя background-color */
          background-color: #28a745; /* Пример зеленого цвета Bootstrap */
          border: none;
          /* Ensure button content is centered */
          display: flex;
          align-items: center;
          justify-content: center;
          border-radius: 50%; /* Make it round */
        }

        .floating-button .btn:hover {
          transform: scale(1.1);
        }

        .floating-button .btn i {
         color: white; /* Цвет иконки */
         font-size: 1.25rem; /* fa-lg equivalent */
        }


        .chat-window {
          position: fixed;
          bottom: 80px; /* Отступ от низа */
          right: 20px;  /* Отступ справа */
          width: 90%; /* Ширина на мобильных */
          max-width: 350px; /* Максимальная ширина */
          height: 400px; /* Высота окна */
          background: #fff;
          color: #333; /* Set default text color for chat window */
          border-radius: 10px;
          box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
          display: none; /* Изначально скрыто */
          flex-direction: column;
          z-index: 1000; /* Убедитесь, что окно поверх других элементов */
          overflow: hidden;
        }
        [dir="rtl"] .chat-window {
            right: auto;
            left: 20px;
        }

        .chat-header {
          background: var(--chat-primary-color); /* Цвет шапки окна */
          color: #fff;
          padding: 10px 15px;
          display: flex;
          justify-content: space-between;
          align-items: center;
        }
        [dir="rtl"] .chat-header {
            text-align: right;
        }

        .chat-header h5 {
          margin: 0;
          font-size: 1rem;
        }

        .chat-header .close-chat {
          background: none;
          border: none;
          color: #fff;
          font-size: 1.2rem;
          cursor: pointer;
          padding: 0; /* Remove default padding */
          line-height: 1; /* Adjust line height */
        }

        .chat-body {
          flex: 1;
          padding: 10px;
          overflow-y: auto; /* Включает прокрутку */
          background: #f9f9f9; /* Фон области сообщений */
          font-size: 0.9rem;
          display: flex; /* Use flexbox for messages */
          flex-direction: column; /* Stack messages vertically */
        }
        [dir="rtl"] .chat-body {
            text-align: right;
        }

        .chat-message {
          padding: 8px 12px;
          border-radius: 5px;
          margin-bottom: 10px;
          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
          word-wrap: break-word;
          white-space: pre-wrap; /* Сохраняет переносы строк */
          max-width: 85%; /* Чтобы сообщения не занимали всю ширину */
          line-height: 1.4;
        }

        .chat-message.user {
          background: #e1f5fe; /* Light blue for user */
          color: #333;
          align-self: flex-end; /* Выравнивание справа */
          margin-left: auto; /* Дополнительно для выравнивания */
        }
        [dir="rtl"] .chat-message.user {
            align-self: flex-start;
            margin-right: auto;
            margin-left: 0;
            text-align: right;
        }


        .chat-message.ai {
          background: #e9ecef; /* Фон сообщения ИИ */
          color: #333;
          align-self: flex-start; /* Выравнивание слева */
          margin-right: auto;
        }
         [dir="rtl"] .chat-message.ai {
            align-self: flex-end;
            margin-left: auto;
            margin-right: 0;
            text-align: right;
        }
        .chat-message.ai.loading {
            color: #888; /* Lighter color for loading indicator */
            font-style: italic;
        }


        .chat-footer {
          padding: 10px;
          border-top: 1px solid #ddd;
          background: #fff;
        }

        .chat-footer textarea {
          width: 100%;
          border: 1px solid #ccc;
          border-radius: 5px;
          padding: 8px;
          resize: none; /* Запретить изменение размера */
          min-height: 40px; /* Минимальная высота */
          max-height: 100px; /* Максимальная высота */
          overflow-y: auto; /* Прокрутка, если текст не помещается */
          box-sizing: border-box;
          font-size: 0.9rem;
          color: #333; /* Ensure text color is readable */
        }
        [dir="rtl"] .chat-footer textarea {
            text-align: right;
        }

        .chat-footer textarea:focus {
          outline: none;
          border-color: var(--chat-primary-color); /* Цвет рамки при фокусе */
        }

        .chat-signature {
          font-size: 0.8rem;
          color: #666;
          text-align: right;
          padding: 5px 10px;
          background: #f9f9f9; /* Фон подписи */
        }
        [dir="rtl"] .chat-signature {
            text-align: left;
        }

        /* Адаптивность */
        @media (max-width: 768px) {
          .chat-window { width: 90%; height: 350px; bottom: 70px; right: 10px; }
          [dir="rtl"] .chat-window { right: auto; left: 10px; }
          .chat-header h5 { font-size: 0.9rem; }
          .chat-body { font-size: 0.8rem; }
          .chat-footer textarea { font-size: 0.8rem; }
          .floating-button .btn { width: 45px; height: 45px; }
          .floating-button .btn i { font-size: 1.1rem; }
        }

        @media (max-width: 576px) {
          .chat-window { height: 300px; }
          .chat-header h5 { font-size: 0.85rem; }
          .chat-body { font-size: 0.75rem; }
          .chat-footer textarea { font-size: 0.75rem; min-height: 35px; }
          .floating-button { bottom: 15px; right: 15px; }
          [dir="rtl"] .floating-button { right: auto; left: 15px; }
          .floating-button .btn { width: 40px; height: 40px; }
           .floating-button .btn i { font-size: 1rem; }
        }
    </style>
    <!-- Font Awesome for chat bot icon -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css">
</head>
<body class="bg-[#0F1117] text-white">

    <!-- Header -->
    <header class="sticky top-0 z-50 bg-[#1E2129] shadow-md">
        <div class="container mx-auto px-4 py-3 flex justify-between items-center">
            <a href="#" class="text-xl font-bold text-white hover:text-[#22C55E] transition duration-300">
                BUNKER-255-AI
            </a>

            <!-- Desktop Navigation -->
            <nav class="hidden md:flex space-x-6">
                <a href="#benefits" class="hover:text-[#22C55E] py-2" data-translate="nav.benefits">Benefits</a>
                <a href="#how-it-works" class="hover:text-[#22C55E] py-2" data-translate="nav.howItWorks">How it Works</a>
                <a href="#pricing" class="hover:text-[#22C55E] py-2" data-translate="nav.pricing">Pricing</a>
                <a href="#faq" class="hover:text-[#22C55E] py-2" data-translate="nav.faq">FAQ</a>
                <a href="https://bunker-255.onrender.com" target="_blank" class="hover:text-[#22C55E] py-2">BUNKER-255</a>
            </nav>

            <div class="flex items-center">
                <!-- Language Switcher -->
                <div class="relative mr-4 rtl:ml-4 hidden md:block"> <!-- Hide on mobile -->
                    <label for="language-select" class="text-sm mr-2" data-translate="lang.switcher.label">Language:</label>
                    <select id="language-select" class="bg-[#0F1117] border border-gray-600 rounded px-2 py-1 text-sm focus:outline-none focus:border-[#22C55E]">
                        <option value="ru" data-translate="lang.ru">Русский</option>
                        <option value="en" data-translate="lang.en">English</option>
                        <option value="he" data-translate="lang.he">עברית</option>
                    </select>
                </div>
                <!-- WhatsApp Button -->
                <a href="https://wa.me/972504834744?text=Хочу%20ИИ-бота%20для%20сайта" target="_blank" class="bg-[#22C55E] text-white px-4 py-2 rounded hover:bg-green-600 transition duration-300 hidden md:block" data-translate="contactWhatsApp" data-whatsapp-key="whatsapp.general">Contact via WhatsApp</a> <!-- Hide on mobile -->

                <!-- Mobile Menu Button -->
                <button id="mobile-menu-button" class="md:hidden p-2 rounded focus:outline-none focus:bg-gray-700">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path>
                    </svg>
                </button>
            </div>
        </div>

        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden md:hidden bg-[#1E2129]">
            <nav class="px-4 pt-2 pb-4 space-y-2">
                <a href="#benefits" class="block px-3 py-2 rounded hover:bg-gray-700 hover:text-[#22C55E]" data-translate="nav.benefits">Benefits</a>
                <a href="#how-it-works" class="block px-3 py-2 rounded hover:bg-gray-700 hover:text-[#22C55E]" data-translate="nav.howItWorks">How it Works</a>
                <a href="#pricing" class="block px-3 py-2 rounded hover:bg-gray-700 hover:text-[#22C55E]" data-translate="nav.pricing">Pricing</a>
                <a href="#faq" class="block px-3 py-2 rounded hover:bg-gray-700 hover:text-[#22C55E]" data-translate="nav.faq">FAQ</a>
                <a href="https://bunker-255.onrender.com" target="_blank" class="block px-3 py-2 rounded hover:bg-gray-700 hover:text-[#22C55E]">BUNKER-255</a>
                <!-- Mobile Language Switcher -->
                 <div class="relative pt-2">
                    <label for="mobile-language-select" class="text-sm mr-2" data-translate="lang.switcher.label">Language:</label>
                    <select id="mobile-language-select" class="bg-[#0F1117] border border-gray-600 rounded px-2 py-1 text-sm focus:outline-none focus:border-[#22C55E] w-full mt-1">
                        <option value="ru" data-translate="lang.ru">Русский</option>
                        <option value="en" data-translate="lang.en">English</option>
                        <option value="he" data-translate="lang.he">עברית</option>
                    </select>
                </div>
                <!-- Mobile WhatsApp Button -->
                <a href="https://wa.me/972504834744?text=Хочу%20ИИ-бота%20для%20сайта" target="_blank" class="block w-full text-center mt-2 bg-[#22C55E] text-white px-4 py-2 rounded hover:bg-green-600 transition duration-300" data-translate="contactWhatsApp" data-whatsapp-key="whatsapp.general">Contact via WhatsApp</a>
            </nav>
        </div>
    </header>

    <!-- Hero Section -->
    <section id="hero" class="py-20 md:py-32 text-center bg-cover bg-center" style="background-image: url('hero.webp');"> <!-- Placeholder for background image -->
        <div class="container mx-auto px-4">
            <h1 class="text-4xl md:text-6xl font-bold mb-4" data-translate="hero.title">Increase Website Conversion with an AI Bot</h1>
            <p class="text-lg md:text-xl mb-8 text-gray-300" data-translate="hero.subtitle">Automate customer communication 24/7</p>
            <a href="https://wa.me/972504834744?text=Хочу%20ИИ-бота%20для%20сайта" target="_blank" class="bg-[#22C55E] text-white px-8 py-3 rounded text-lg font-semibold hover:bg-green-600 transition duration-300" data-translate="hero.button" data-whatsapp-key="whatsapp.general">Order Bot</a>
        </div>
    </section>

    <!-- Benefits Section -->
    <section id="benefits" class="py-16 md:py-24 bg-[#1E2129]">
        <div class="container mx-auto px-4 text-center">
            <h2 class="text-3xl md:text-4xl font-bold mb-12" data-translate="benefits.title">Why Our AI Bot?</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <!-- Benefit 1 -->
                <div class="bg-[#0F1117] p-6 rounded-lg shadow-lg flex flex-col items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-12 h-12 mb-4 text-[#22C55E]">
                      <path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
                    </svg>
                    <h3 class="text-xl font-semibold mb-2" data-translate="benefits.item1.title">Works 24/7</h3>
                    <p class="text-gray-400" data-translate="benefits.item1.text">The bot answers customers even at night and on weekends.</p>
                </div>
                <!-- Benefit 2 -->
                <div class="bg-[#0F1117] p-6 rounded-lg shadow-lg flex flex-col items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-12 h-12 mb-4 text-[#22C55E]">
                      <path stroke-linecap="round" stroke-linejoin="round" d="M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z" />
                    </svg>
                    <h3 class="text-xl font-semibold mb-2" data-translate="benefits.item2.title">Reduces Load</h3>
                    <p class="text-gray-400" data-translate="benefits.item2.text">Frees up your employees from routine questions.</p>
                </div>
                <!-- Benefit 3 -->
                <div class="bg-[#0F1117] p-6 rounded-lg shadow-lg flex flex-col items-center">
                   <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-12 h-12 mb-4 text-[#22C55E]">
                     <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941" />
                   </svg>
                   <h3 class="text-xl font-semibold mb-2" data-translate="benefits.item3.title">Increases Sales</h3>
                   <p class="text-gray-400" data-translate="benefits.item3.text">Quickly answers questions and helps place orders.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- How It Works Section -->
    <section id="how-it-works" class="py-16 md:py-24 bg-[#0F1117]">
        <div class="container mx-auto px-4 text-center">
            <h2 class="text-3xl md:text-4xl font-bold mb-12" data-translate="howItWorks.title">How does it work?</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 md:gap-12 items-start">
                <!-- Step 1 -->
                <div class="text-center">
                    <div class="inline-flex items-center justify-center bg-[#1E2129] p-4 rounded-full mb-4 h-16 w-16">
                         <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8 text-[#22C55E]">
                           <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z" />
                         </svg>
                    </div>
                    <h3 class="text-xl font-semibold mb-2" data-translate="howItWorks.step1.title">Step 1: Request</h3>
                    <p class="text-gray-400" data-translate="howItWorks.step1.text">Submit a request, and we discuss your tasks.</p>
                </div>
                <!-- Step 2 -->
                <div class="text-center">
                     <div class="inline-flex items-center justify-center bg-[#1E2129] p-4 rounded-full mb-4 h-16 w-16">
                         <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8 text-[#22C55E]">
                           <path stroke-linecap="round" stroke-linejoin="round" d="M10.343 3.94c.09-.542.56-.94 1.11-.94h1.093c.55 0 1.02.398 1.11.94l.149.894c.07.424.384.764.78.93.398.164.855.142 1.205-.108l.737-.527c.47-.336 1.06-.336 1.53 0l.772.55c.47.336.696.916.55 1.442l-.15.903c-.12.72-.73 1.23-1.45 1.23h-1.053c-.47 0-.91-.19-1.22-.504l-.527-.527c-.32-.32-.78-.44-1.18-.31-.398.13-.69.46-.8.868l-.149.894c-.09.542-.56.94-1.11.94h-1.093c-.55 0-1.02-.398-1.11-.94l-.149-.894c-.07-.424-.384-.764-.78-.93-.398-.164-.855-.142-1.205.108l-.738.527c-.47.336-1.06.336-1.53 0l-.772-.55c-.47-.336-.696-.916-.55-1.442l.15-.903c.12-.72.73-1.23 1.45-1.23h1.053c.47 0 .91.19 1.22.504l.527.527c.32.32.78.44 1.18.31.398-.13.69-.46.8-.868l.149-.894Z" />
                           <path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" />
                         </svg>
                    </div>
                    <h3 class="text-xl font-semibold mb-2" data-translate="howItWorks.step2.title">Step 2: Setup</h3>
                    <p class="text-gray-400" data-translate="howItWorks.step2.text">We configure the bot for your business and knowledge base.</p>
                </div>
                <!-- Step 3 -->
                <div class="text-center">
                     <div class="inline-flex items-center justify-center bg-[#1E2129] p-4 rounded-full mb-4 h-16 w-16">
                         <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8 text-[#22C55E]">
                           <path stroke-linecap="round" stroke-linejoin="round" d="M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5" />
                         </svg>
                    </div>
                    <h3 class="text-xl font-semibold mb-2" data-translate="howItWorks.step3.title">Step 3: Launch</h3>
                    <p class="text-gray-400" data-translate="howItWorks.step3.text">We integrate the bot into your website, and it starts working.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Pricing Section -->
    <section id="pricing" class="py-16 md:py-24 bg-[#1E2129]">
        <div class="container mx-auto px-4 text-center">
            <h2 class="text-3xl md:text-4xl font-bold mb-12" data-translate="pricing.title">Pricing</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <!-- Pricing Card 1 -->
                <div class="bg-[#0F1117] p-8 rounded-lg shadow-lg border border-gray-700 flex flex-col">
                    <h3 class="text-2xl font-semibold mb-4" data-translate="pricing.plan1.name">Start</h3>
                    <p class="text-4xl font-bold mb-4"><span data-translate="pricing.plan1.price">Free</span><span class="text-lg font-normal text-gray-400" data-translate="pricing.plan1.period"></span></p>
                    <ul class="text-left space-y-2 mb-8 flex-grow text-gray-300">
                        <li data-translate="pricing.plan1.feature1">✓ Basic functionality</li>
                        <li data-translate="pricing.plan1.feature2">✓ Up to 100 dialogues per site</li>
                        <li data-translate="pricing.plan1.feature3">✓ Email support</li>
                    </ul>
                    <a href="https://wa.me/972504834744?text=Хочу%20тариф%20Старт" target="_blank" class="mt-auto bg-[#22C55E] text-white px-6 py-3 rounded font-semibold hover:bg-green-600 transition duration-300" data-translate="pricing.plan1.button" data-whatsapp-key="whatsapp.start">Choose Start</a>
                </div>
                <!-- Pricing Card 2 (Popular) -->
                <div class="bg-[#0F1117] p-8 rounded-lg shadow-lg border-2 border-[#22C55E] relative flex flex-col">
                    <span class="absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-[#22C55E] text-white px-3 py-1 text-sm font-semibold rounded-full" data-translate="pricing.plan2.badge">Popular</span>
                    <h3 class="text-2xl font-semibold mb-4 mt-4" data-translate="pricing.plan2.name">Business</h3>
                    <p class="text-4xl font-bold mb-4"><span data-translate="pricing.plan2.price">$99</span><span class="text-lg font-normal text-gray-400" data-translate="pricing.plan2.period">/mo</span></p>
                    <ul class="text-left space-y-2 mb-8 flex-grow text-gray-300">
                        <li data-translate="pricing.plan2.feature1">✓ Advanced functionality</li>
                        <li data-translate="pricing.plan2.feature2">✓ Up to 500 dialogues</li>
                        <li data-translate="pricing.plan2.feature3">✓ Integrations</li>
                        <li data-translate="pricing.plan2.feature4">✓ Priority support</li>
                    </ul>
                    <a href="https://wa.me/972504834744?text=Хочу%20тариф%20Бизнес" target="_blank" class="mt-auto bg-[#22C55E] text-white px-6 py-3 rounded font-semibold hover:bg-green-600 transition duration-300" data-translate="pricing.plan2.button" data-whatsapp-key="whatsapp.business">Choose Business</a>
                </div>
                <!-- Pricing Card 3 -->
                <div class="bg-[#0F1117] p-8 rounded-lg shadow-lg border border-gray-700 flex flex-col">
                    <h3 class="text-2xl font-semibold mb-4" data-translate="pricing.plan3.name">Enterprise</h3>
                    <p class="text-4xl font-bold mb-4"><span data-translate="pricing.plan3.price">Custom</span><span class="text-lg font-normal text-gray-400"></span></p>
                     <ul class="text-left space-y-2 mb-8 flex-grow text-gray-300">
                        <li data-translate="pricing.plan3.feature1">✓ All features</li>
                        <li data-translate="pricing.plan3.feature2">✓ Unlimited dialogues</li>
                        <li data-translate="pricing.plan3.feature3">✓ Personal manager</li>
                        <li data-translate="pricing.plan3.feature4">✓ Custom developments</li>
                    </ul>
                    <a href="https://wa.me/972504834744?text=Хочу%20тариф%20Энтерпрайз" target="_blank" class="mt-auto bg-[#22C55E] text-white px-6 py-3 rounded font-semibold hover:bg-green-600 transition duration-300" data-translate="pricing.plan3.button" data-whatsapp-key="whatsapp.enterprise">Discuss</a>
                </div>
            </div>
        </div>
    </section>

    <!-- FAQ Section -->
    <section id="faq" class="py-16 md:py-24 bg-[#0F1117]">
        <div class="container mx-auto px-4 max-w-3xl">
            <h2 class="text-3xl md:text-4xl font-bold mb-12 text-center" data-translate="faq.title">Frequently Asked Questions</h2>
            <div class="space-y-4">
                <!-- FAQ Item 1 -->
                <details class="bg-[#1E2129] p-4 rounded-lg cursor-pointer group">
                    <summary class="font-semibold text-lg flex justify-between items-center list-none">
                        <span data-translate="faq.item1.question">How quickly can the bot be launched?</span>
                        <span class="text-[#22C55E] transform transition-transform duration-300 group-open:rotate-180">▼</span>
                    </summary>
                    <p class="mt-3 text-gray-400" data-translate="faq.item1.answer">Launch usually takes 1 to 3 business days after all details are agreed upon.</p>
                </details>
                <!-- FAQ Item 2 -->
                <details class="bg-[#1E2129] p-4 rounded-lg cursor-pointer group">
                    <summary class="font-semibold text-lg flex justify-between items-center list-none">
                        <span data-translate="faq.item2.question">Is technical knowledge required for setup?</span>
                        <span class="text-[#22C55E] transform transition-transform duration-300 group-open:rotate-180">▼</span>
                    </summary>
                    <p class="mt-3 text-gray-400" data-translate="faq.item2.answer">No, we will set everything up for you. You only need to provide information about your business.</p>
                </details>
                <!-- FAQ Item 3 -->
                <details class="bg-[#1E2129] p-4 rounded-lg cursor-pointer group">
                    <summary class="font-semibold text-lg flex justify-between items-center list-none">
                        <span data-translate="faq.item3.question">What platforms does the bot work on?</span>
                         <span class="text-[#22C55E] transform transition-transform duration-300 group-open:rotate-180">▼</span>
                    </summary>
                    <p class="mt-3 text-gray-400" data-translate="faq.item3.answer">Our bot easily integrates with most popular CMS and website builders.</p>
                </details>
                 <!-- FAQ Item 4 -->
                 <details class="bg-[#1E2129] p-4 rounded-lg cursor-pointer group">
                    <summary class="font-semibold text-lg flex justify-between items-center list-none">
                        <span data-translate="faq.item4.question">What if the bot cannot answer a question?</span>
                         <span class="text-[#22C55E] transform transition-transform duration-300 group-open:rotate-180">▼</span>
                    </summary>
                    <p class="mt-3 text-gray-400" data-translate="faq.item4.answer">The bot can be configured to forward complex questions to your employee or collect contact details for follow-up.</p>
                </details>
            </div>
        </div>
    </section>

    <!-- CTA Section -->
    <section id="cta" class="py-16 md:py-24 bg-[#1E2129]">
        <div class="container mx-auto px-4 text-center">
            <h2 class="text-3xl md:text-4xl font-bold mb-4" data-translate="cta.title">Ready to improve your website?</h2>
            <p class="text-lg md:text-xl mb-8 text-gray-300" data-translate="cta.subtitle">Contact us now to discuss how an AI bot can help your business.</p>
            <a href="https://wa.me/972504834744?text=Хочу%20ИИ-бота%20для%20сайта" target="_blank" class="bg-[#22C55E] text-white px-8 py-3 rounded text-lg font-semibold hover:bg-green-600 transition duration-300" data-translate="cta.button" data-whatsapp-key="whatsapp.general">Discuss Project on WhatsApp</a>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-[#0F1117] py-8 border-t border-gray-700">
        <div class="container mx-auto px-4 text-center text-gray-400">
            <div class="mb-4">
                 <a href="https://wa.me/972504834744?text=Хочу%20ИИ-бота%20для%20сайта" target="_blank" class="text-[#22C55E] hover:text-green-400 transition duration-300" data-translate="footer.contact" data-whatsapp-key="whatsapp.general">Contact via WhatsApp</a>
            </div>
            <p data-translate="footer.copyright">&copy; 2025 AI-Bot. All rights reserved.</p>
            <!-- Optional: Add links to privacy policy, terms of service -->
        </div>
    </footer>

    <!-- AI Chat Bot HTML -->
    <div class="floating-button">
      <a href="#" id="chat-button" class="btn btn-success rounded-circle d-flex align-items-center justify-content-center" data-translate-aria-label="chat.openAriaLabel"> <!-- Added aria-label -->
        <i class="fas fa-robot fa-lg"></i>
      </a>
    </div>

    <div class="chat-window" id="chat-window">
      <div class="chat-header">
        <h5 data-translate="chat.headerTitle">Чат с ИИ</h5>
        <button class="close-chat" id="close-chat" data-translate-aria-label="chat.closeAriaLabel">×</button> <!-- Added aria-label -->
      </div>
      <div class="chat-body" id="chat-body">
        <!-- Initial message will be added by JS using translations -->
      </div>
      <div class="chat-footer">
        <textarea id="chat-input" data-translate-placeholder="chat.inputPlaceholder" data-translate-aria-label="chat.inputAriaLabel"></textarea> <!-- Added aria-label and placeholder translation -->
      </div>
       <div class="chat-signature">
        <small data-translate="chat.signature">Создан Ильей Лазаревым</small>
      </div>
    </div>
    <!-- End AI Chat Bot HTML -->


    <script>
        const translations = {};
        const supportedLangs = ['en', 'ru', 'he'];
        const defaultLang = 'en';
        let currentLang = defaultLang;

        const languageSelectDesktop = document.getElementById('language-select');
        const languageSelectMobile = document.getElementById('mobile-language-select');
        const htmlTag = document.documentElement;

        // Function to fetch translations
        async function fetchTranslations(lang) {
            if (translations[lang]) {
                return translations[lang];
            }
            try {
                const response = await fetch(`./locales/${lang}.json`);
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                const data = await response.json();
                translations[lang] = data;
                return data;
            } catch (error) {
                console.error(`Could not load translations for ${lang}:`, error);
                return null; // Return null or default translations if fetch fails
            }
        }

        // Function to apply translations
        function applyTranslations(langData) {
            if (!langData) return;

            // Translate elements with data-translate attribute (most elements)
            document.querySelectorAll('[data-translate]').forEach(element => {
                const key = element.getAttribute('data-translate');
                if (langData[key]) {
                    // Check if it's a meta tag to update 'content' attribute
                    if (element.tagName === 'META') {
                        element.setAttribute('content', langData[key]);
                    } else {
                        element.textContent = langData[key];
                    }
                } else {
                     console.warn(`Translation key not found: ${key}`);
                }
            });

             document.querySelectorAll('[data-translate-alt]').forEach(element => {
                const key = element.getAttribute('data-translate-alt');
                if (langData[key]) {
                    element.setAttribute('alt', langData[key]);
                } else {
                     console.warn(`Translation key for alt not found: ${key}`);
                }
            });

            // Update title specifically (already handled by the general loop, but kept for clarity if needed)
            const titleElement = document.querySelector('title');
            const titleKey = titleElement ? titleElement.getAttribute('data-translate') : null;
             if (titleKey && langData[titleKey]) {
                 if (titleElement) {
                    titleElement.textContent = langData[titleKey];
                 }
             }

            // Update WhatsApp links
            document.querySelectorAll('a[data-whatsapp-key]').forEach(element => {
                const key = element.getAttribute('data-whatsapp-key');
                const baseHref = element.href.split('?')[0]; // Get the base URL (wa.me/...)
                if (langData[key]) {
                    const messageText = langData[key];
                    element.href = `${baseHref}?text=${encodeURIComponent(messageText)}`;
                } else {
                    console.warn(`WhatsApp message key not found: ${key}`);
                    // Keep the default message if key not found, or clear it if needed
                    // element.href = baseHref; // Example: remove text param if key not found
                }
            });

            // Apply translations to chat elements specifically handled by JS
            const chatInputElement = document.getElementById('chat-input');
            if (chatInputElement) {
                const placeholderKey = chatInputElement.getAttribute('data-translate-placeholder');
                if (placeholderKey && langData[placeholderKey]) {
                    chatInputElement.placeholder = langData[placeholderKey];
                } else {
                    console.warn(`Placeholder key not found: ${placeholderKey}`);
                }
                const ariaLabelKey = chatInputElement.getAttribute('data-translate-aria-label');
                 if (ariaLabelKey && langData[ariaLabelKey]) {
                    chatInputElement.setAttribute('aria-label', langData[ariaLabelKey]);
                 } else {
                     console.warn(`Aria-label key not found: ${ariaLabelKey}`);
                 }
            }
            // Apply aria-labels for chat buttons
            document.querySelectorAll('[data-translate-aria-label]').forEach(element => {
                const key = element.getAttribute('data-translate-aria-label');
                if (langData[key]) {
                    element.setAttribute('aria-label', langData[key]);
                } else {
                     console.warn(`Aria-label key not found: ${key}`);
                }
            });

            // Update initial chat message if chat body is empty
            const chatBodyElement = document.getElementById('chat-body');
            if (chatBodyElement && chatBodyElement.children.length === 0 && langData['chat.welcomeMessage']) {
                 appendChatMessage(langData['chat.welcomeMessage'], 'ai'); // Use the new chat message function
            }
         }

        // Function to set language
        async function setLanguage(lang) {
            if (!supportedLangs.includes(lang)) {
                console.warn(`Unsupported language "${lang}" requested. Falling back to default "${defaultLang}".`);
                lang = defaultLang;
            }
            currentLang = lang;

            // Save preference *before* fetching/applying
            try {
                localStorage.setItem('preferredLang', lang);
                console.log(`Saved language preference: ${lang}`);
            } catch (e) {
                console.warn("Could not save language preference to localStorage:", e);
            }

            // Set attributes immediately
            htmlTag.lang = lang;
            htmlTag.dir = lang === 'he' ? 'rtl' : 'ltr';
            console.log(`Set html lang="${lang}" dir="${htmlTag.dir}"`);

            // Update dropdowns
            if (languageSelectDesktop) languageSelectDesktop.value = lang;
            if (languageSelectMobile) languageSelectMobile.value = lang;

            // Fetch and apply translations
            const langData = await fetchTranslations(lang);
            if (langData) {
                applyTranslations(langData);
                console.log(`Applied translations for ${lang}`);
            } else {
                 console.error(`Failed to fetch/apply translations for ${lang}.`);
            }
        }

        // Function to get initial language (prioritize localStorage)
        function getInitialLanguage() {
            let preferredLang = null;
            try {
                preferredLang = localStorage.getItem('preferredLang');
                if (preferredLang && supportedLangs.includes(preferredLang)) {
                    console.log(`Found preferred language in localStorage: ${preferredLang}`);
                    return preferredLang;
                } else if (preferredLang) {
                    console.warn(`Language "${preferredLang}" from localStorage is not supported. Ignoring.`);
                } else {
                    console.log("No preferred language found in localStorage.");
                }
            } catch (e) {
                console.warn("Could not read language preference from localStorage:", e);
            }

            const browserLang = navigator.language.split('-')[0];
            if (supportedLangs.includes(browserLang)) {
                console.log(`Using browser language: ${browserLang}`);
                return browserLang;
            }

            console.log(`Falling back to default language: ${defaultLang}`);
            return defaultLang;
        }

        // Shared handler for language change from either select element
        function handleLanguageChange(event) {
            const newLang = event.target.value;
            if (newLang !== currentLang) {
                console.log(`Language change detected: ${newLang}`);
                setLanguage(newLang); // This saves, sets attributes, updates selects, and applies translations
            } else {
                 console.log(`Language change ignored, already set to: ${newLang}`);
            }
        }

        // Initialize language and set up listeners on page load
        document.addEventListener('DOMContentLoaded', () => {
            console.log("DOM fully loaded and parsed.");

            // Determine and set the initial language *immediately*
            const initialLang = getInitialLanguage();
            console.log(`Initializing page with language: ${initialLang}`);
            // We call setLanguage directly which handles setting attributes, selects, and fetching translations
            setLanguage(initialLang);

            // Add event listeners AFTER initial language is set
            if (languageSelectDesktop) {
                console.log("Attaching listener to desktop language select.");
                languageSelectDesktop.addEventListener('change', handleLanguageChange);
            } else {
                 console.warn("Desktop language select not found.");
            }
            if (languageSelectMobile) {
                 console.log("Attaching listener to mobile language select.");
                languageSelectMobile.addEventListener('change', handleLanguageChange);
            } else {
                 console.warn("Mobile language select not found.");
            }

            // Smooth scroll for anchor links
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const targetElement = document.querySelector(this.getAttribute('href'));
                    if (targetElement) {
                        // Close mobile menu if open before scrolling
                        const mobileMenu = document.getElementById('mobile-menu');
                        if (mobileMenu && !mobileMenu.classList.contains('hidden')) {
                            mobileMenu.classList.add('hidden');
                        }
                        targetElement.scrollIntoView({ behavior: 'smooth' });
                    }
                });
            });

            // Mobile menu toggle
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');

            if (mobileMenuButton && mobileMenu) {
                mobileMenuButton.addEventListener('click', () => {
                    mobileMenu.classList.toggle('hidden');
                });
            }

            // --- AI Chat Bot Logic ---
            const chatButton = document.getElementById("chat-button");
            const chatWindow = document.getElementById("chat-window");
            const closeChat = document.getElementById("close-chat");
            const chatInput = document.getElementById("chat-input");
            const chatBody = document.getElementById("chat-body");

            // !!! IMPORTANT: Replace "YOUR_API_KEY" with your actual Gemini API key !!!
            // Consider using a backend proxy for security in production.
            const GAK = "AIzaSyCl9jjTfAZDtvVjsB-gR5QZLTtiabF5jlY";
            const MODEL_ID = "gemini-1.5-flash"; // Or another Gemini model
            const API_URL = `https://generativelanguage.googleapis.com/v1beta/models/${MODEL_ID}:generateContent?key=${GAK}`;

            // Show/hide chat window
            if (chatButton) {
                chatButton.addEventListener("click", function(e) {
                    e.preventDefault();
                    if (chatWindow) {
                        const isDisplayed = chatWindow.style.display === "flex";
                        chatWindow.style.display = isDisplayed ? "none" : "flex";
                        if (!isDisplayed) {
                            // Add welcome message if chat is empty when opened
                            if (chatBody && chatBody.children.length === 0 && translations[currentLang] && translations[currentLang]['chat.welcomeMessage']) {
                                appendChatMessage(translations[currentLang]['chat.welcomeMessage'], 'ai');
                            }
                            scrollToChatBottom(); // Scroll down when opening
                        }
                    }
                });
            }

            // Close chat window
            if (closeChat) {
                closeChat.addEventListener("click", function() {
                    if (chatWindow) {
                        chatWindow.style.display = "none";
                    }
                });
            }

            // Auto-resize input textarea
            if (chatInput) {
                chatInput.addEventListener("input", function() {
                    this.style.height = "auto";
                    this.style.height = Math.min(this.scrollHeight, 100) + "px";
                });
            }

            // Send message on Enter key press
            if (chatInput) {
                chatInput.addEventListener("keydown", async function(e) {
                    if (e.key === "Enter" && !e.shiftKey) {
                        e.preventDefault();
                        const message = this.value.trim();
                        const currentTranslations = translations[currentLang] || {}; // Get current translations

                        if (message && chatBody) {
                            // Display user message
                            appendChatMessage(message, 'user');
                            this.value = "";
                            this.style.height = "40px"; // Reset height
                            scrollToChatBottom();

                            // Show loading indicator
                            const loadingText = currentTranslations['chat.loading'] || "...";
                            const loadingMessage = appendChatMessage(loadingText, 'ai loading');
                            scrollToChatBottom();

                            try {
                                // Get language-specific system instruction
                                const systemInstructionText = currentTranslations['chat.systemInstruction'] || "You are a helpful AI assistant. Answer in the user's language.";

                                // Send request to Gemini API
                                const response = await fetch(API_URL, {
                                    method: "POST",
                                    headers: {
                                        "Content-Type": "application/json"
                                    },
                                    body: JSON.stringify({
                                        systemInstruction: {
                                            parts: [{ text: systemInstructionText }]
                                        },
                                        contents: [
                                            {
                                                role: "user",
                                                parts: [{ text: message }]
                                            }
                                            // TODO: Add message history for context if needed
                                        ],
                                        generationConfig: {
                                            // responseMimeType: "text/plain" // Optional: uncomment if plain text is preferred
                                        }
                                    })
                                });

                                if (!response.ok) {
                                    const errorText = await response.text();
                                    console.error("API Error:", errorText);
                                    const apiErrorMsg = currentTranslations['chat.errorApi'] || "API Error";
                                    throw new Error(`${apiErrorMsg}: ${response.statusText}`);
                                }

                                const data = await response.json();

                                // Update message with AI response
                                if (data.candidates && data.candidates[0].content && data.candidates[0].content.parts[0].text) {
                                    const aiResponse = data.candidates[0].content.parts[0].text;
                                    loadingMessage.textContent = aiResponse;
                                    loadingMessage.classList.remove('loading'); // Remove loading style
                                } else {
                                    const noResponseMsg = currentTranslations['chat.errorNoResponse'] || "Could not get response from AI.";
                                    loadingMessage.textContent = noResponseMsg;
                                    loadingMessage.classList.remove('loading');
                                    console.error("Unexpected response format:", data);
                                }
                            } catch (error) {
                                console.error("Error:", error);
                                const requestErrorMsg = currentTranslations['chat.errorRequest'] || "Error requesting AI";
                                loadingMessage.textContent = `${requestErrorMsg}: ${error.message}`;
                                loadingMessage.classList.remove('loading');
                            }

                            scrollToChatBottom();
                        }
                    }
                });
            }

            // Helper function to append message to chat body
            function appendChatMessage(text, type) {
                if (!chatBody) return null;
                const messageElement = document.createElement("div");
                messageElement.className = `chat-message ${type}`; // type can be 'user', 'ai', or 'ai loading'
                messageElement.textContent = text;
                chatBody.appendChild(messageElement);
                return messageElement;
            }

            // Helper function to scroll chat to bottom
            function scrollToChatBottom() {
                if (chatBody) {
                    chatBody.scrollTop = chatBody.scrollHeight;
                }
            }
            // --- End AI Chat Bot Logic ---

        });

    </script>
</body>
</html>
